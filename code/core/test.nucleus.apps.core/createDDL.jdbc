CREATE TABLE COUNTRY (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY (ID))
CREATE TABLE ITEMBATCH (ID INTEGER AUTO_INCREMENT NOT NULL, EXPIRYDATE DATE, NAME VARCHAR(255) NOT NULL, OBJITEM_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TAX (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), LEDGER INTEGER, NAME VARCHAR(255) NOT NULL, TYPE INTEGER, VALUE DOUBLE, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE ITEM (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), LOCKED INTEGER, MRP DOUBLE, NAME VARCHAR(255) NOT NULL, OPENINGSTOCK DOUBLE, SKU VARCHAR(255), TAX INTEGER, TRADINGACCOUNT INTEGER, TYPE INTEGER, COMPANY_ID INTEGER, ITEMGROUP_ID INTEGER, STOCKLOCATION_ID INTEGER, UNIT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE CITY (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL, PINCODE VARCHAR(255), OBJDISTRICT_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE STATE (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL, OBJCOUNTRY_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE DISTRICT (ID INTEGER AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL, OBJSTATE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PARTYITEMDISCOUNT (ID INTEGER AUTO_INCREMENT NOT NULL, DATEFROM DATE, DATETO DATE, ITEM_ID INTEGER, LEDGER_LEDGERID INTEGER, PRIMARY KEY (ID))
CREATE TABLE LEDGERLABEL (LABELID INTEGER AUTO_INCREMENT NOT NULL, LABELNAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (LABELID))
CREATE TABLE ITEMCOMPANY (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE ITEMGROUP (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE ITEMDISCOUNT (ID INTEGER AUTO_INCREMENT NOT NULL, DATEFROM DATE, DATETO DATE, ITEM INTEGER, OBJITEM_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE COMPANY (ID INTEGER AUTO_INCREMENT NOT NULL, ADDRESS1 VARCHAR(255), ADDRESS2 VARCHAR(255), ADDRESS3 VARCHAR(255), CONTACTPERSON VARCHAR(255), DESCRIPTION VARCHAR(255), EMAIL VARCHAR(255), FAX VARCHAR(255), LICENSEDATE VARCHAR(255), LICENSENUMBER VARCHAR(255), MOBILE VARCHAR(255), NAME VARCHAR(255) NOT NULL UNIQUE, PAN VARCHAR(255), PHONE VARCHAR(255), PRINTNAME VARCHAR(255) NOT NULL, RULECONFIGURATION VARCHAR(255), SERVICETAX VARCHAR(255), TAN VARCHAR(255), TOT VARCHAR(255), VAT VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE LedgerGroup (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, TYPE INTEGER NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE LEDGER (LEDGERID INTEGER AUTO_INCREMENT NOT NULL, DTYPE VARCHAR(31), DESCRIPTION VARCHAR(255), LOCATION VARCHAR(255), LOCKED INTEGER, NAME VARCHAR(255) NOT NULL, OPENINGBALANCE DOUBLE, PRINTNAME VARCHAR(255), COMPANY_ID INTEGER NOT NULL, OBJLEDGERGROUP_ID INTEGER, PRIMARY KEY (LEDGERID))
CREATE TABLE PARTY (LEDGERID INTEGER NOT NULL, CRLIMIT DOUBLE, DRLIMIT DOUBLE, ID INTEGER, PAN VARCHAR(255), SERVICETAX VARCHAR(255), TAN VARCHAR(255), TOT VARCHAR(255), TYPE INTEGER, VAT VARCHAR(255), PRIMARY KEY (LEDGERID))
CREATE TABLE ITEMTAX (ID INTEGER NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, VALUE DOUBLE, COMPANY_ID INTEGER NOT NULL, LEDGER_LEDGERID INTEGER, PRIMARY KEY (ID))
CREATE TABLE UNIT (ID INTEGER AUTO_INCREMENT NOT NULL, FACTOR DOUBLE, NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PARENTOBJ_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE PARTYADDRESS (ID INTEGER AUTO_INCREMENT NOT NULL, ADDRESS1 VARCHAR(255), ADDRESS2 VARCHAR(255), ADDRESS3 VARCHAR(255), CONTACTPERSON VARCHAR(255), DESCRIPTION VARCHAR(255), EMAIL VARCHAR(255), FAX VARCHAR(255), MOBILE VARCHAR(255), PHONE VARCHAR(255), TAG INTEGER, COMPANY_ID INTEGER NOT NULL, OBJCITY_ID INTEGER, OBJTYPE_ID INTEGER, PARTY_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE STOCKLOCATIONTYPE (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE ADDRESSTYPE (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE STOCKLOCATION (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), NAME VARCHAR(255) NOT NULL, COMPANY_ID INTEGER NOT NULL, OBJTYPE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE LEDGER_LABEL (label INTEGER NOT NULL, ledger INTEGER NOT NULL, PRIMARY KEY (label, ledger))
ALTER TABLE LedgerGroup ADD CONSTRAINT UNQ_LedgerGroup_0 UNIQUE (id, company)
ALTER TABLE ITEMBATCH ADD CONSTRAINT FK_ITEMBATCH_OBJITEM_ID FOREIGN KEY (OBJITEM_ID) REFERENCES ITEM (ID)
ALTER TABLE TAX ADD CONSTRAINT FK_TAX_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES ITEMCOMPANY (ID)
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_UNIT_ID FOREIGN KEY (UNIT_ID) REFERENCES UNIT (ID)
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_ITEMGROUP_ID FOREIGN KEY (ITEMGROUP_ID) REFERENCES ITEMGROUP (ID)
ALTER TABLE ITEM ADD CONSTRAINT FK_ITEM_STOCKLOCATION_ID FOREIGN KEY (STOCKLOCATION_ID) REFERENCES STOCKLOCATION (ID)
ALTER TABLE CITY ADD CONSTRAINT FK_CITY_OBJDISTRICT_ID FOREIGN KEY (OBJDISTRICT_ID) REFERENCES DISTRICT (ID)
ALTER TABLE STATE ADD CONSTRAINT FK_STATE_OBJCOUNTRY_ID FOREIGN KEY (OBJCOUNTRY_ID) REFERENCES COUNTRY (ID)
ALTER TABLE DISTRICT ADD CONSTRAINT FK_DISTRICT_OBJSTATE_ID FOREIGN KEY (OBJSTATE_ID) REFERENCES STATE (ID)
ALTER TABLE PARTYITEMDISCOUNT ADD CONSTRAINT FK_PARTYITEMDISCOUNT_LEDGER_LEDGERID FOREIGN KEY (LEDGER_LEDGERID) REFERENCES LEDGER (LEDGERID)
ALTER TABLE PARTYITEMDISCOUNT ADD CONSTRAINT FK_PARTYITEMDISCOUNT_ITEM_ID FOREIGN KEY (ITEM_ID) REFERENCES ITEM (ID)
ALTER TABLE LEDGERLABEL ADD CONSTRAINT FK_LEDGERLABEL_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE ITEMCOMPANY ADD CONSTRAINT FK_ITEMCOMPANY_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE ITEMGROUP ADD CONSTRAINT FK_ITEMGROUP_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE ITEMDISCOUNT ADD CONSTRAINT FK_ITEMDISCOUNT_OBJITEM_ID FOREIGN KEY (OBJITEM_ID) REFERENCES ITEM (ID)
ALTER TABLE LedgerGroup ADD CONSTRAINT FK_LedgerGroup_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE LEDGER ADD CONSTRAINT FK_LEDGER_OBJLEDGERGROUP_ID FOREIGN KEY (OBJLEDGERGROUP_ID) REFERENCES LedgerGroup (ID)
ALTER TABLE LEDGER ADD CONSTRAINT FK_LEDGER_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE PARTY ADD CONSTRAINT FK_PARTY_LEDGERID FOREIGN KEY (LEDGERID) REFERENCES LEDGER (LEDGERID)
ALTER TABLE ITEMTAX ADD CONSTRAINT FK_ITEMTAX_LEDGER_LEDGERID FOREIGN KEY (LEDGER_LEDGERID) REFERENCES LEDGER (LEDGERID)
ALTER TABLE ITEMTAX ADD CONSTRAINT FK_ITEMTAX_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE UNIT ADD CONSTRAINT FK_UNIT_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE UNIT ADD CONSTRAINT FK_UNIT_PARENTOBJ_ID FOREIGN KEY (PARENTOBJ_ID) REFERENCES UNIT (ID)
ALTER TABLE PARTYADDRESS ADD CONSTRAINT FK_PARTYADDRESS_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE PARTYADDRESS ADD CONSTRAINT FK_PARTYADDRESS_OBJCITY_ID FOREIGN KEY (OBJCITY_ID) REFERENCES CITY (ID)
ALTER TABLE PARTYADDRESS ADD CONSTRAINT FK_PARTYADDRESS_OBJTYPE_ID FOREIGN KEY (OBJTYPE_ID) REFERENCES ADDRESSTYPE (ID)
ALTER TABLE PARTYADDRESS ADD CONSTRAINT FK_PARTYADDRESS_PARTY_ID FOREIGN KEY (PARTY_ID) REFERENCES PARTY (ID)
ALTER TABLE STOCKLOCATIONTYPE ADD CONSTRAINT FK_STOCKLOCATIONTYPE_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE ADDRESSTYPE ADD CONSTRAINT FK_ADDRESSTYPE_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE STOCKLOCATION ADD CONSTRAINT FK_STOCKLOCATION_OBJTYPE_ID FOREIGN KEY (OBJTYPE_ID) REFERENCES STOCKLOCATIONTYPE (ID)
ALTER TABLE STOCKLOCATION ADD CONSTRAINT FK_STOCKLOCATION_COMPANY_ID FOREIGN KEY (COMPANY_ID) REFERENCES COMPANY (ID)
ALTER TABLE LEDGER_LABEL ADD CONSTRAINT FK_LEDGER_LABEL_label FOREIGN KEY (label) REFERENCES LEDGERLABEL (LABELID)
ALTER TABLE LEDGER_LABEL ADD CONSTRAINT FK_LEDGER_LABEL_ledger FOREIGN KEY (ledger) REFERENCES LEDGER (LEDGERID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
